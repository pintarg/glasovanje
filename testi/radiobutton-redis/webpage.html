<!--
Opis: Spletna stran za prikaz zbranih glasov.
Verzija: 2016.09.20a
====================================================================================================-->
<html>

<head>

</head>

<body>
<!-- tukaj bo koda za prikaz strani -->

<p><b>Vprasanje:</b><input id="vpr" type="text" />
<button id="btnDodajVpr" onClick="dodajVpr()">Dodaj vprasanje</button><button id="btnDodajVpr2" onClick="dodajVpr2()">Dodaj vprasanje2</button></p>
<p><b>Odgovori:</b></p>
<form action="">
  <input type="radio" name="Q000" id="strinja" value="1"> Se strinjam
  <input type="radio" name="Q000" id="vzdrzan" value="2"> Vzdrzan
  <input type="radio" name="Q000" id="nestrinja" value="3"> Se ne strinjam
</form>
<button id="btnOddajOdg" onClick="oddajOdg()">Oddaj odgovor</button><br>
<button id="btnNaprej" onClick="naprej()">Naprej</button><br>

Povratna informacija: <input id="odg" type="text" />

<!-- ================================================================= -->

  <script type="text/javascript" charset="UTF-8">
    // tukaj bo koda za povezavo z Redis in preverjanje izbranih odgovorov
    var redisClient = require('redis').createClient();
    var stVpr = 0;

    function dodajVpr() {
      // var redisClient = require('redis').createClient();
      var stVpr = 0;
      redisClient.hlen('vprasanja', function(err, reply) {
        stVpr = reply;
        document.getElementById("odg").value = stVpr;
      });
      document.getElementById("odg").value = stVpr;
    };

    function dodajVpr2() {
      // var redisClient = require('redis').createClient();
      // // var stVpr = 0;
      // //   redisClient.hset('vprasanja', 3)
      //
      // redisClient.get('TestPovezave', function(err, reply) { //Preverjanje dosegljivosti Redis baze + preverjanje, da se povezujemo na pravilno bazo.
      //   var t = 0;
      //   if (err) { //Ker se spodnji izpis ob napaki ne izvede, se lahko ta del kode odstrani in popravi nadaljno kodo
      //     // throw err;
      //     // console.log('Napaka pri povezavi!');
      //   } else if (reply != 42) {
      //     t = "napacnaBaza";
      //   } else if (reply == 42) {
      //     t = "ok";
      //   }
      //
      // });
document.getElementById("odg").value = "t";
    };

    function oddajOdg() {
      if(document.getElementById("strinja").checked) {
        document.getElementById("odg").value = "strinja";
      } else if (document.getElementById("vzdrzan").checked) {
        document.getElementById("odg").value = "vzdrzan";
      } else if (document.getElementById("nestrinja").checked) {
        document.getElementById("odg").value = "nestrinja";
      }
    };

  </script>
</body>

</html>
